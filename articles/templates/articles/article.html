{% extends 'articles/base.html' %}
{% load static %}
{% load social_share %}

{% block meta_tags %}
{#    <meta name="viewport" content="width=device-width, initial-scale=1">#}

    <meta property="og:title" content="{{ article.title }}">
    <meta property="og:description" content="{{ article.abstract|slice:"3:"| truncatewords:15| safe }}">
    <meta property="og:image" content="{{ article.image_link }}">
    <meta property="og:url" content="{{ url }}">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        .fa {
            padding: 20px;
            font-size: 30px;
            width: 55px;
            text-align: center;
            text-decoration: none;
            margin: 5px 2px;
            border-radius: 50%;
        }

        .fa:hover {
            opacity: 0.7;
        }

        .fa-facebook {
            background: #3B5998;
            color: white;
        }

        .fa-twitter {
            background: #55ACEE;
            color: white;
        }
    </style>

{% endblock %}

{% block body %}
    <br class="p-5">
    <br class="p-5">
    <br class="p-5">
    <br class="p-5">
    <div class="row  m-5">
        <div class="col-sm-5">
            <hr class="lines">
        </div>
        <div class="col-sm-2 text-center bg-dark display-4 text-light">
            <h1>DUCSU LPR</h1>
        </div>
        <div class="col-sm-5">
            <hr class="lines">
        </div>
    </div>

    <section class="container-fluid">
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-6">
                <h1 class="display-1 text-center p-4" style=" font-size: 35px">
                    {{ article.title }}
                </h1>
            </div>

        </div>
        <hr class="hr-text p-2" data-content="â…¹">
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-6">
                <p class="text-center pb-4"><i>
                    <img src='{{ article.image_link }}' class="img-fluid" alt="Responsive image">
                    <br><br>

                    <a href="{% url 'show_list' article.get_article_type_display|lower|cut:' ' %}" class="text-dark"
                       style="text-decoration-color: black;">
                        {{ article.get_article_type_display }}
                    </a>
                    by
                    {% for j in article.authors.all %}
                        {% if not forloop.first and forloop.last %} &
                        {% elif not forloop.first %},
                        {% endif %}
                        <a href="{% url 'show_author' j.id %}" class="text-dark" style="text-decoration-color: black;">
                            {{ j.name }}
                        </a>
                    {% endfor %}
                </i></p>


{#                <div class="content">#}
                    {#                <div class="challenge">#}
                    {#                    <div class="daily">DailyUI Challenge</div>#}
                    {#                    <div class="number">010</div>#}
                    {#                </div>#}
{##}
{#                    <button class="shareButton fb" onclick="window.open('http://facebook.com/sharer.php?u={{ url }}')">#}
{#                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">#}
{#                            <path d="M17,2V2H17V6H15C14.31,6 14,6.81 14,7.5V10H14L17,10V14H14V22H10V14H7V10H10V6A4,4 0 0,1 14,2H17Z"/>#}
{#                        </svg>#}
{#                    </button>#}
{#                    <button class="shareButton tw" onclick="window.open('http://twitter.com/share?&url={{ url }}\n')">#}
{#                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">#}
{#                            <path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"/>#}
{#                        </svg>#}
{#                    </button>#}
                    {#                    <button class="shareButton ig" onclick="window.open('http://www.website.com/page')">#}
                    {#                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">#}
                    {#                            <path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"/>#}
                    {#                        </svg>#}
                    {#                    </button>#}
{#                </div>#}

            </div>
        </div>
        <div class="row">
            <div class="col-sm-3"></div>


            <div class="col-sm-1">
                <p><i class="fa fa-calendar"></i> {{ article.created_date|date:"M d, Y" }}</p>
                {% if article.article_type == 'J' %}
                    <p><i class="fa fa-file"></i><a href="{{ article.pdf }}" class="text-dark"
                                                    style="text-decoration-color: black;"> Read Article</a></p>
                {% endif %}

            </div>
            <div class="col-sm-5" style="">
                 <div style="margin: 0 auto;align-content: center; text-align: center">
                <a href="http://facebook.com/sharer.php?u={{ url }}" target="_blank" class="fa fa-facebook" style="text-decoration: none; align-content: center"></a>
            <a href="http://twitter.com/share?&url={{ url }}" target="_blank" class="fa fa-twitter" style="text-decoration: none; align-content: center"></a>
                     <br><br>
            </div>
                {#                {% if article.article_type == 'N' or article.article_type == 'L' %}#}
                {#                    <div class="embed-responsive embed-responsive-16by9">#}
                {#                          <object data="{{article.youtube_link}}"></object>#}
                {#                        <!--<iframe src="{{article.youtube_link}}" frameborder="0" allowfullscreen></iframe>-->#}
                {##}
                {#                    </div>#}
                {#                    <br><br>#}
                {##}
                {#                {% endif %}#}
                {{ article.abstract|safe }}
                <br><br>

                <p>
                    <strong>Tags : </strong>
                    {% for i in article.tags.all %}
                        {% if not forloop.first %}, {% endif %}
                        <a href="{% url 'show_tag' i.id %}" class="text-dark" style="text-decoration-color: black;">
                            {{ i.word }} </a>
                    {% endfor %}
                </p>
                <br><br><br>
                {% for j in article.authors.all %}
                    {% if not forloop.first and forloop.last %} &
                    {% elif not forloop.first %},
                    {% endif %}
                    <p><i>{{ j.bio|safe }}</i></p>
                {% endfor %}


            </div>

        </div>
    </section>
    <script>
        const shareButton = document.querySelectorAll("button.shareButton")

        shareButton[0].addEventListener("click", (e) => {
            for (let i = 0; i < shareButton.length; i++) {
                shareButton[i].classList.toggle("open")
                shareButton[0].classList.remove("sent")
            }
        })

        for (let i = 1; i < shareButton.length; i++) {

            shareButton[i].addEventListener("click", (e) => {

                for (let i = 0; i < shareButton.length; i++) {
                    shareButton[i].classList.toggle("open")
                }
                shareButton[0].classList.toggle("sent")
            })
        }


    </script>
{% endblock %}